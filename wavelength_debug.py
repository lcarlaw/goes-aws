import xarray as xr 
import numpy as np 
awips_wavelengths = [
    0.47,
    0.64,
    0.87, 
    1.38, 
    1.61, 
    2.25, 
    3.90, 
    6.19, 
    6.95, 
    7.34, 
    8.50,
    9.61, 
    10.35, 
    11.20, 
    12.30, 
    13.30
]
files = [
    'OR_ABI-L2-CMIPM1-M6C01_G16_s20221650142252_e20221650142309_c20221650142372.nc',
    'OR_ABI-L2-CMIPM1-M6C02_G16_s20221650142252_e20221650142309_c20221650142374.nc',
    'OR_ABI-L2-CMIPM1-M6C03_G16_s20221650133252_e20221650133309_c20221650133366.nc',
    'OR_ABI-L2-CMIPM1-M6C04_G16_s20221650143252_e20221650143309_c20221650143355.nc',
    'OR_ABI-L2-CMIPM1-M6C05_G16_s20221650143252_e20221650143309_c20221650143377.nc',
    'OR_ABI-L2-CMIPM1-M6C06_G16_s20221650144252_e20221650144315_c20221650144361.nc',
    'OR_ABI-L2-CMIPM1-M6C07_G16_s20221650147252_e20221650147321_c20221650147372.nc',
    'OR_ABI-L2-CMIPM1-M6C08_G16_s20221650142252_e20221650142309_c20221650142376.nc',
    'OR_ABI-L2-CMIPM1-M6C09_G16_s20221650143252_e20221650143315_c20221650143368.nc',
    'OR_ABI-L2-CMIPM1-M6C10_G16_s20221650144252_e20221650144320_c20221650144369.nc',
    'OR_ABI-L2-CMIPM1-M6C10_G16_s20221650144252_e20221650144320_c20221650144369.nc',
    'OR_ABI-L2-CMIPM1-M6C12_G16_s20221650144252_e20221650144315_c20221650144376.nc',
    'OR_ABI-L2-CMIPM1-M6C13_G16_s20221650146252_e20221650146320_c20221650146385.nc',
    'OR_ABI-L2-CMIPM1-M6C14_G16_s20221650148252_e20221650148309_c20221650148386.nc',
    'OR_ABI-L2-CMIPM1-M6C15_G16_s20221650148252_e20221650148315_c20221650148397.nc',
    'OR_ABI-L2-CMIPM1-M6C16_G16_s20221650145252_e20221650145320_c20221650145389.nc'
]

for f in files:
    ds = xr.open_dataset(f"/Users/leecarlaw/Downloads/meso1_satellite/{f}")
    band_id = ds.band_id.data[0]
    delta = np.abs(ds.band_wavelength.data[0] - awips_wavelengths[band_id-1])
    if delta > 1e-4:
        print(band_id)